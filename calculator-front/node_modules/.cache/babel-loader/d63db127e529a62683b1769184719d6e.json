{"remainingRequest":"/Users/fatlum/Desktop/development/calculator/calculator-front/node_modules/babel-loader/lib/index.js!/Users/fatlum/Desktop/development/calculator/calculator-front/node_modules/eslint-loader/index.js??ref--14-0!/Users/fatlum/Desktop/development/calculator/calculator-front/src/store/user/index.js","dependencies":[{"path":"/Users/fatlum/Desktop/development/calculator/calculator-front/src/store/user/index.js","mtime":1680281189882},{"path":"/Users/fatlum/Desktop/development/calculator/calculator-front/babel.config.js","mtime":1680273142803},{"path":"/Users/fatlum/Desktop/development/calculator/calculator-front/node_modules/cache-loader/dist/cjs.js","mtime":1680273139794},{"path":"/Users/fatlum/Desktop/development/calculator/calculator-front/node_modules/babel-loader/lib/index.js","mtime":1680273139781},{"path":"/Users/fatlum/Desktop/development/calculator/calculator-front/node_modules/eslint-loader/index.js","mtime":1680273138674}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3Qgc3RhdGUgPSB7CiAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKSB8fCBudWxsCiAgLy8gdXNlcjogbnVsbAp9OwoKY29uc3QgZ2V0dGVycyA9IHsKICAvLyB1c2VyKHN0YXRlKSB7CiAgLy8gICAgIHJldHVybiBzdGF0ZS51c2VyCiAgLy8gfSwKICBsb2dnZWRJbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuICE9IG51bGw7CiAgfQp9Owpjb25zdCBhY3Rpb25zID0gewogIHJlZ2lzdGVyKGNvbnRleHQsIGRhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgIGF4aW9zLnBvc3QoYGFwaS9yZWdpc3RlcmAsIHsKICAgICAgICBuYW1lOiBkYXRhLm5hbWUsCiAgICAgICAgZW1haWw6IGRhdGEuZW1haWwsCiAgICAgICAgcGhvbmU6IGRhdGEucGhvbmUsCiAgICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQsCiAgICAgICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiBkYXRhLnBhc3N3b3JkX2NvbmZpcm1hdGlvbgogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZGVzdHJveVRva2VuKGNvbnRleHQpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyICIgKyBjb250ZXh0LnN0YXRlLnRva2VuOwogICAgaWYgKGNvbnRleHQuZ2V0dGVycy5sb2dnZWRJbikgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGF4aW9zLnBvc3QoYGFwaS9sb2dvdXRgKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJhY2Nlc3NfdG9rZW4iKTsKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJkZXN0cm95VG9rZW4iKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImFjY2Vzc190b2tlbiIpOwogICAgICAgICAgY29udGV4dC5jb21taXQoImRlc3Ryb3lUb2tlbiIpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBsb2dpbihjb250ZXh0LCBjcmVkZW50aWFscykgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgYXhpb3MucG9zdChgYXBpL2xvZ2luYCwgewogICAgICAgIGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCwKICAgICAgICBwYXNzd29yZDogY3JlZGVudGlhbHMucGFzc3dvcmQKICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgdG9rZW4gPSByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbjsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWNjZXNzX3Rva2VuIiwgdG9rZW4pOwogICAgICAgIGNvbnRleHQuY29tbWl0KCJyZXRyZWl2ZVRva2VuIiwgdG9rZW4pOwogICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIC8vICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Owpjb25zdCBtdXRhdGlvbnMgPSB7CiAgcmV0cmVpdmVUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBkZXN0cm95VG9rZW4oc3RhdGUpIHsKICAgIHN0YXRlLnRva2VuID0gbnVsbDsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZSwKICBnZXR0ZXJzLAogIGFjdGlvbnMsCiAgbXV0YXRpb25zCn07"},{"version":3,"names":["axios","state","token","localStorage","getItem","getters","loggedIn","actions","register","context","data","Promise","resolve","reject","post","name","email","phone","password","password_confirmation","then","response","catch","error","destroyToken","defaults","headers","common","removeItem","commit","console","log","login","credentials","access_token","setItem","mutations","retreiveToken"],"sources":["/Users/fatlum/Desktop/development/calculator/calculator-front/src/store/user/index.js"],"sourcesContent":["import axios from 'axios'\n\nconst state = {\n    token: localStorage.getItem(\"access_token\") || null,\n    // user: null\n};\n\nconst getters = {\n    // user(state) {\n    //     return state.user\n    // },\n    loggedIn(state) {\n        return state.token != null;\n    }\n};\n\nconst actions = {\n    register(context, data) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(`api/register`, {\n            name: data.name,\n            email: data.email,\n            phone: data.phone,\n            password: data.password,\n            password_confirmation: data.password_confirmation\n          })\n          .then(response => {\n            resolve(response);\n              // console.log(response);\n          })\n          .catch(error => {\n            reject(error);\n          });\n      });\n    },\n  \n    destroyToken(context) {\n      axios.defaults.headers.common[\"Authorization\"] =\n        \"Bearer \" + context.state.token;\n  \n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios\n            .post(`api/logout`)\n            .then(response => {\n              localStorage.removeItem(\"access_token\");\n              context.commit(\"destroyToken\");\n              resolve(response);\n              //   console.log(response);\n            })\n            .catch(error => {\n              localStorage.removeItem(\"access_token\");\n              context.commit(\"destroyToken\");\n              console.log(error);\n              reject(error);\n            });\n        });\n      }\n    },\n  \n    login(context, credentials) {\n      return new Promise((resolve, reject) => {\n        axios\n          .post(`api/login`, {\n            email: credentials.email,\n            password: credentials.password\n          })\n          .then(response => {\n            const token = response.data.access_token;\n  \n            localStorage.setItem(\"access_token\", token);\n            context.commit(\"retreiveToken\", token);\n            resolve(response);\n            //   console.log(response);\n          })\n          .catch(error => {\n            reject(error);\n            console.log(error);\n          });\n      });\n    }\n  };\n  \n  const mutations = {\n    retreiveToken(state, token) {\n      state.token = token;\n    },\n  \n    destroyToken(state) {\n      state.token = null;\n    }\n  };\n  \n  export default {\n    state,\n    getters,\n    actions,\n    mutations\n  };\n  "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,KAAK,GAAG;EACVC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,IAAI;EAC/C;AACJ,CAAC;;AAED,MAAMC,OAAO,GAAG;EACZ;EACA;EACA;EACAC,QAAQA,CAACL,KAAK,EAAE;IACZ,OAAOA,KAAK,CAACC,KAAK,IAAI,IAAI;EAC9B;AACJ,CAAC;AAED,MAAMK,OAAO,GAAG;EACZC,QAAQA,CAACC,OAAO,EAAEC,IAAI,EAAE;IACtB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCb,KAAK,CACFc,IAAI,CAAE,cAAa,EAAE;QACpBC,IAAI,EAAEL,IAAI,CAACK,IAAI;QACfC,KAAK,EAAEN,IAAI,CAACM,KAAK;QACjBC,KAAK,EAAEP,IAAI,CAACO,KAAK;QACjBC,QAAQ,EAAER,IAAI,CAACQ,QAAQ;QACvBC,qBAAqB,EAAET,IAAI,CAACS;MAC9B,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAI;QAChBT,OAAO,CAACS,QAAQ,CAAC;QACf;MACJ,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdV,MAAM,CAACU,KAAK,CAAC;MACf,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC;EAEDC,YAAYA,CAACf,OAAO,EAAE;IACpBT,KAAK,CAACyB,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAC5C,SAAS,GAAGlB,OAAO,CAACR,KAAK,CAACC,KAAK;IAEjC,IAAIO,OAAO,CAACJ,OAAO,CAACC,QAAQ,EAAE;MAC5B,OAAO,IAAIK,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACtCb,KAAK,CACFc,IAAI,CAAE,YAAW,CAAC,CAClBM,IAAI,CAACC,QAAQ,IAAI;UAChBlB,YAAY,CAACyB,UAAU,CAAC,cAAc,CAAC;UACvCnB,OAAO,CAACoB,MAAM,CAAC,cAAc,CAAC;UAC9BjB,OAAO,CAACS,QAAQ,CAAC;UACjB;QACF,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;UACdpB,YAAY,CAACyB,UAAU,CAAC,cAAc,CAAC;UACvCnB,OAAO,CAACoB,MAAM,CAAC,cAAc,CAAC;UAC9BC,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;UAClBV,MAAM,CAACU,KAAK,CAAC;QACf,CAAC,CAAC;MACN,CAAC,CAAC;IACJ;EACF,CAAC;EAEDS,KAAKA,CAACvB,OAAO,EAAEwB,WAAW,EAAE;IAC1B,OAAO,IAAItB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCb,KAAK,CACFc,IAAI,CAAE,WAAU,EAAE;QACjBE,KAAK,EAAEiB,WAAW,CAACjB,KAAK;QACxBE,QAAQ,EAAEe,WAAW,CAACf;MACxB,CAAC,CAAC,CACDE,IAAI,CAACC,QAAQ,IAAI;QAChB,MAAMnB,KAAK,GAAGmB,QAAQ,CAACX,IAAI,CAACwB,YAAY;QAExC/B,YAAY,CAACgC,OAAO,CAAC,cAAc,EAAEjC,KAAK,CAAC;QAC3CO,OAAO,CAACoB,MAAM,CAAC,eAAe,EAAE3B,KAAK,CAAC;QACtCU,OAAO,CAACS,QAAQ,CAAC;QACjB;MACF,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdV,MAAM,CAACU,KAAK,CAAC;QACbO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;AACF,CAAC;AAED,MAAMa,SAAS,GAAG;EAChBC,aAAaA,CAACpC,KAAK,EAAEC,KAAK,EAAE;IAC1BD,KAAK,CAACC,KAAK,GAAGA,KAAK;EACrB,CAAC;EAEDsB,YAAYA,CAACvB,KAAK,EAAE;IAClBA,KAAK,CAACC,KAAK,GAAG,IAAI;EACpB;AACF,CAAC;AAED,eAAe;EACbD,KAAK;EACLI,OAAO;EACPE,OAAO;EACP6B;AACF,CAAC"}]}